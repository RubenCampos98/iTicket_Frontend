<app-navbar></app-navbar>
<div class="container" style="border: 0px solid green;">
  <div class="row" style="border: 0px solid red;">
    <div class="col-lg-8 offset-md-2" style="border: 0px solid blue;">    
      <div class="card">
        <div class="card-header">
          <h5 class="card-title">
            Perfil
          </h5>
        </div>
       <div class="card-body">
          <form *ngIf="this.editar == false">
           <div class="mb-3">
              <label class="form-label">Nome</label>
              <input type="text" class="form-control" id="name" value={{sessionData?.name}} readonly>
            </div>
            <div class="mb-3">
              <label class="form-label">Email</label>
              <input type="email" class="form-control" id="email" value={{sessionData?.email}} readonly>
            </div>
            <div class="mb-3">
              <label class="form-label">Contacto</label>
              <input type="email" class="form-control" id="email" value={{sessionData?.phone}} readonly>
            </div>
            <div class="mb-3">
              <label class="form-label">Morada</label>
              <input type="email" class="form-control" id="email" value={{sessionData?.address}} readonly>
            </div>
            <div class="mb-3">
              <label class="form-label">Administrador</label>
              <div class="form-check form-switch">
                <input *ngIf="sessionData?.admin == true" class="form-check-input" type="checkbox" checked readonly>
                <input *ngIf="sessionData?.admin ==! true" class="form-check-input"type="checkbox" readonly>
              </div>
            </div>
            <div class="mb-3">
              <label class="form-label">Nova palavra-passe</label>
              <div class="input-group mb-3">
                <input [type]="show1 ? 'password' : 'text' " class="form-control" id="name" readonly>
                <span class="input-group-text">
                  <i *ngIf="show1 == true" class="bi bi-eye-fill"></i>
                  <i *ngIf="show1 == false" class="bi bi-eye-slash-fill"></i>
                </span>
              </div>
              <a>
                <i class="bi bi-info-circle" style="color: #1193F2; margin-right: 5px;"></i>
                <span>Preencher apenas se pretender alterar a sua palavra-passe</span>
              </a>
            </div>
            <div class="mb-3">
              <label class="form-label">Confirmar nova palavra-passe</label>
              <div class="input-group mb-3">
                <input [type]="show2 ? 'password' : 'text' " class="form-control" id="name" readonly>
                <span class="input-group-text">
                  <i *ngIf="show2 == true" class="bi bi-eye-fill"></i>
                  <i *ngIf="show2 == false" class="bi bi-eye-slash-fill"></i>
                </span>
              </div>
              <a>
                <i class="bi bi-info-circle" style="color: #1193F2; margin-right: 5px;"></i>
                <span>Preencher apenas se pretender alterar a sua palavra-passe</span>
              </a>
            </div>
          </form>
          <form [formGroup]="userForm" *ngIf="this.editar == true">
           <div class="mb-3">
              <label class="form-label">Nome</label>
              <input formControlName="name" type="text" class="form-control" id="name" style="cursor: auto;">
              <label class="errorMessage" *ngIf="user_errorsV2?.name">
                {{ user_errorsV2.name.message }}
              </label>
            </div>
            <div class="mb-3">  
              <label class="form-label">Email</label>
              <input formControlName="email" type="email" class="form-control" id="email" style="cursor: auto;">
              <label class="errorMessage" *ngIf="user_errorsV2?.email">
                {{ user_errorsV2.email.message }}
              </label>
            </div>
            <div class="mb-3">
              <label class="form-label">Contacto</label>
              <input formControlName="phone" type="number" class="form-control" id="phone" style="cursor: auto;">
              <label class="errorMessage" *ngIf="user_errorsV2?.phone">
                {{ user_errorsV2.phone.message }}
              </label>
            </div>
            <div class="mb-3">
              <label class="form-label">Morada</label>
              <input formControlName="address" type="text" class="form-control" id="address" style="cursor: auto;">
              <label class="errorMessage" *ngIf="user_errorsV2?.address">
                {{ user_errorsV2.address.message }}
              </label>
            </div>
            <div class="mb-3">
              <label class="form-label">Administrador</label>
              <div class="form-check form-switch">
                <input *ngIf="sessionData?.admin == true" class="form-check-input" type="checkbox" checked>
                <input *ngIf="sessionData?.admin ==! true" class="form-check-input"type="checkbox">
              </div>
            </div>
            <div class="mb-3">
              <label class="form-label">Nova palavra-passe</label>
              <div class="input-group mb-3">
                <input [type]="show1 ? 'password' : 'text'" formControlName="newpassword" class="form-control" id="newpassword" 
                style="cursor: auto;">
                <span class="input-group-text">
                  <i *ngIf="show1 == true" class="bi bi-eye-fill" (click)="viewPass1()"></i>
                  <i *ngIf="show1 == false" class="bi bi-eye-slash-fill" (click)="viewPass1()"></i>
                </span>
                <label class="errorMessage" *ngIf="user_errors?.message">
                  {{ user_errors.message }}
                </label>
                <label class="errorMessage" *ngIf="user_errorsV2?.newpassword">
                  {{ user_errorsV2.newpassword.message }}
                </label>
              </div>
              <a>
                <i class="bi bi-info-circle" style="color: #1193F2; margin-right: 5px;"></i>
                <span>Preencher apenas se pretender alterar a sua palavra-passe</span>
              </a>
            </div>
            <div class="mb-3">
              <label class="form-label">Confirmar nova palavra-passe</label>
              <div class="input-group mb-3">
                <input [type]="show2 ? 'password' : 'text'" formControlName="passwordconfirmation" class="form-control" id="passwordconfirmation" style="cursor: auto;">
                <span class="input-group-text">
                  <i *ngIf="show2 == true" class="bi bi-eye-fill" (click)="viewPass2()"></i>
                  <i *ngIf="show2 == false" class="bi bi-eye-slash-fill" (click)="viewPass2()"></i>
                </span>
                <label class="errorMessage" *ngIf="user_errors?.message">
                  {{ user_errors.message }}
                </label>
                <label class="errorMessage" *ngIf="user_errorsV2?.newpassword">
                  {{ user_errorsV2.newpassword.message }}
                </label>
              </div>
              <a>
                <i class="bi bi-info-circle" style="color: #1193F2; margin-right: 5px;"></i>
                <span>Preencher apenas se pretender alterar a sua palavra-passe</span>
              </a>
            </div>
          </form>
        </div>
        <div class="card-footer">  
          <button *ngIf="this.editar == false" (click)="editarCurrentUser()" type="submit" class="btn btn-primary btnEditar">Editar</button>
          <a *ngIf="this.editar == true" (click)="editarCurrentUser()">Cancelar</a>
          <button *ngIf="this.editar == true" (click)="updateUser()" type="submit" class="btn btn-primary btnGuardar">Guardar</button>
        </div> 
      </div>
    </div> 
  </div>
</div>